# Voice Ordering for Elderly (시니어 음성 기반 주문 서비스)

##  프로젝트 개요
본 프로젝트는 고령층 사용자를 대상으로 **음성만으로 배달 주문이 가능한 모바일 애플리케이션**을 개발하는 것을 목표로 했습니다.  
기존 배달 앱의 복잡한 UI 대신, **전화 통화하듯 자연어로 주문**할 수 있도록 설계되었습니다.  

- **대상 문제**: 고령층의 배달앱 이용 증가율은 40% 이상이지만, 디지털 정보화 활용 수준은 40% 이하 → 접근성 문제  
- **해결 방안**: STT + NLU + FSM + RAG + TTS 기술을 통합한 **대화형 주문 비서**  
- **결과**: 사용자가 “짜장면 2개, 짬뽕 1개 주세요”라고 말하면, 시스템이 메뉴를 인식 → 가게 추천 → 주문 확정 → 음성 안내까지 진행

---

##  주요 기능
###  STT (Speech-to-Text)
- **모델**: OpenAI Whisper-Medium 기반  
- **개선**: AI-Hub *노년층 방언 데이터* 1167시간 활용, LoRA 기법으로 파인튜닝  
- **최적화**: ONNX 변환 + PTQ 정적 양자화 → 모델 크기 50% 축소, 추론 속도 1.5배 향상  
- **성능**: WER 17.3% → 8.9%, CER 7.8% → 3.6% (약 50% 개선)

###  NLU (Natural Language Understanding)
- **모델**: KLUE-RoBERTa-large  
- **데이터**: 2.3만 건 (맞춤법 오류, 사투리, 노인 말투 포함 데이터 증강)  
- **의도 분류**: 7가지 (추천, 가게 선택, 메뉴 선택, 주문 확정, 긍정/부정 응답, 잡담)  
- **정확도**: 96.37% (실시간 처리 가능, 초당 183개 문장 처리)

###  FSM (Finite State Machine)
- **상태 정의**: 초기 → 가게 선택 → 메뉴 선택 → 주문 확정  
- **예외 처리**:  
  - 단계 건너뛰기 (“짜장면 2개 주문할게” → 가게 선택 유도)  
  - 잘못된 입력 (“지금 몇 시야?” → 답변 후 주문 단계 유지)  
  - 주문 취소/재시작  

###  RAG + LLM
- **데이터셋**: 요기요 크롤링 (음식점 1,358곳, 메뉴 6.3만 건, 리뷰 6.7만 건)  
- **벡터DB 분할**: 음식점 / 메뉴 / 리뷰 별로 나눠 검색 최적화  
- **검색 기반 생성**: LLM이 외부 지식을 참고하여 신뢰도 높은 응답 생성  
- **예시 응답**:  
  > “홍콩반점의 짬뽕은 맵지 않고 적당하다는 리뷰가 많습니다. 부담 없이 드실 수 있을 거예요.”

###  TTS (Text-to-Speech)
- 주문 결과 및 안내를 음성으로 출력  
- 고령층 고려 → **천천히, 또박또박 발음**  

---

##  기술 스택
- **언어/프레임워크**: Python, Node.js  
- **AI 모델**: Whisper, KLUE-RoBERTa, HuggingFace Transformers  
- **데이터 처리**: Selenium, BeautifulSoup, Pandas  
- **AI 최적화**: ONNX Runtime, LoRA, PTQ  
- **AI 파이프라인**: LangChain (RAG + LLM)  
- **앱 개발**: React Native / Android Studio (UI 프로토타입)  

---

##  실행 흐름
1. 사용자 발화 → STT 변환  
2. 텍스트 → NLU 의도 분석  
3. FSM이 현재 주문 단계 관리  
4. RAG 검색 → 음식점/메뉴 데이터 조회  
5. LLM이 최종 응답 생성  
6. 응답 → TTS로 변환 후 사용자에게 안내  

## 아키텍쳐
<img width="686" height="334" alt="image" src="https://github.com/user-attachments/assets/e9d97160-5e6b-4c90-a661-cc1ccf9f6339" />


<img width="685" height="336" alt="image" src="https://github.com/user-attachments/assets/87d977e4-0a2b-40cd-b04b-a4a524bb8ba8" />

---

##  성능 요약
| 모듈 | 지표 | 결과 |
|------|------|------|
| **STT** | WER / CER | 8.9% / 3.6% |
| **NLU** | Accuracy | 96.37% |
| **NLU** | 초당 처리 속도 | 183 문장/s |
| **STT 최적화** | 추론 속도 개선 | 1.5배 빨라짐 |
| **ONNX + 양자화** | 모델 크기 | 50% 축소 |

---
##  시연 영상
<p align="center">
  <img src="https://github.com/user-attachments/assets/6a77670f-7a1f-4a88-9a37-c5d53877f1f9" width="200">
</p>

---
##  팀 구성
- **신홍재**: STT 모델 파인튜닝, ONNX 최적화  
- **김원우**: 데이터 크롤링, 메뉴/리뷰 DB 구축  
- **한동훈**: FSM 설계 및 예외 처리 로직  
- **김성룡**: RAG/LLM 파이프라인 구현  

---

## 💡 프로젝트 의의
- 고령층도 **자연어 대화만으로 배달 주문** 가능  
- 디지털 소외계층을 위한 **포용적 서비스 모델** 제시  
- AI 음성 인터페이스 + RAG 구조를 실제 서비스에 적용한 사례  

---

## 📂 폴더 구조 (예시)
